# ğŸ“š æŠŠçŸ¥è¯†å˜æˆç³»ç»Ÿï¼šä»ç¢ç‰‡åŒ–å­¦ä¹ åˆ°å®Œæ•´é¡¹ç›®çš„å®æˆ˜ä¹‹è·¯

## å‰è¨€

åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘ä¸€ç›´åœ¨æ€è€ƒä¸€ä¸ªå›°æ‰°è®¸å¤šå·¥ç¨‹å¸ˆçš„æ ¹æœ¬é—®é¢˜â€”â€”**çŸ¥è¯†ç¢ç‰‡åŒ–**ã€‚æˆ‘ä»¬ä¸æ–­å­¦ä¹ æ–°æŠ€æœ¯ã€æ¡†æ¶ã€AI æ¦‚å¿µï¼Œç”šè‡³åœ¨çŸ­æ—¶é—´å†…æŒæ¡äº†å¾ˆå¤šâ€œçœ‹å¾—æ‡‚â€çš„ä¸œè¥¿ï¼Œå´åœ¨å®é™…é¡¹ç›®ä¸­å‘ç°è‡ªå·±åªèƒ½è®°èµ·é›¶æ˜Ÿçš„ç‰‡æ®µï¼Œéš¾ä»¥å½¢æˆç³»ç»ŸåŒ–çš„è§£å†³æ–¹æ¡ˆã€‚

äºæ˜¯ï¼Œæˆ‘åœ¨ **2025â€‘12â€‘17** å¼€é€šäº†å…¬ä¼—å· **ã€ŒæŠŠçŸ¥è¯†å˜æˆç³»ç»Ÿã€**ï¼Œå¸Œæœ›æŠŠè¿™äº›é›¶æ•£çš„è®°å¿†æ•´ç†æˆå¯å¤ç”¨çš„ç»“æ„ã€‚ä»Šå¤©ï¼Œæˆ‘æŠŠè¿™æ®µå­¦ä¹ å¿ƒè·¯å†ç¨‹å†™æˆç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œå¹¶ç”¨å®ƒæ¥è®°å½•æˆ‘ä»¬åˆšåˆšå®Œæˆçš„ **DailyWallpaperHub** é¡¹ç›®â€”â€”ä¸€ä¸ªå¤šæºå£çº¸èšåˆå¹³å°ï¼Œé›†æˆäº†å¼‚æ­¥ AI æ•…äº‹ç”Ÿæˆã€GitHub Actions è‡ªåŠ¨åŒ–ã€ä¼ä¸šå¾®ä¿¡æ¨é€ä»¥åŠ GitHub Pages åœ¨çº¿ç”»å»Šã€‚

ä¸‹é¢ï¼Œæˆ‘å°†ä» **é—®é¢˜å‘ç° â†’ éœ€æ±‚æ‹†è§£ â†’ æ–¹æ¡ˆå®ç° â†’ è¿­ä»£ç»éªŒ** å››ä¸ªç»´åº¦ï¼Œå›é¡¾æ•´ä¸ªè¿‡ç¨‹ï¼Œå¹¶ç»™å‡ºé¡¹ç›®çš„ä»“åº“åœ°å€ï¼Œä¾›å¤§å®¶ç›´æ¥ä½“éªŒå’Œå‚è€ƒã€‚

---

## 1ï¸âƒ£ ä¸ºä»€ä¹ˆä¼šå‡ºç°çŸ¥è¯†ç¢ç‰‡åŒ–ï¼Ÿ

| ç—‡çŠ¶ | äº§ç”ŸåŸå›  |
|------|----------|
| **è®°å¾—æ¦‚å¿µå´å¿˜äº†ç»†èŠ‚** | å­¦ä¹ æ—¶åªåœç•™åœ¨â€œçŸ¥é“æ˜¯ä»€ä¹ˆâ€ï¼Œç¼ºå°‘å®é™…è½åœ°çš„ç»ƒæ‰‹ã€‚ |
| **çœ‹åˆ°æ–°æŠ€æœ¯å´ä¸æ•¢ä¸Šæ‰‹** | å¯¹æŠ€æœ¯æ ˆçš„æ•´ä½“ç»“æ„ä¸æ¸…æ™°ï¼Œå®³æ€•è¸©å‘ã€‚ |
| **é¡¹ç›®éœ€æ±‚ä¸å·²æœ‰çŸ¥è¯†ä¸åŒ¹é…** | æ²¡æœ‰æŠŠæ¯ä¸ªçŸ¥è¯†ç‚¹ä¸ä¸šåŠ¡åœºæ™¯å…³è”èµ·æ¥ã€‚ |

è¿™äº›ç—›ç‚¹åœ¨æˆ‘ä»¬å¼€å‘ **DailyWallpaperHub** æ—¶è¡¨ç°å¾—å°¤ä¸ºæ˜æ˜¾ï¼š

- **å¤šæºæ•°æ®æŠ“å–**ï¼ˆBing + Unsplashï¼‰éœ€è¦åˆ†åˆ«äº†è§£ä¸¤ä¸ª API çš„é‰´æƒã€è¿”å›ç»“æ„ä»¥åŠå›¾ç‰‡å­˜å‚¨è§„èŒƒã€‚
- **AI æ•…äº‹ç”Ÿæˆ** éœ€è¦æŠŠ LLM çš„è§†è§‰æ¨¡å‹è°ƒç”¨ã€æç¤ºè¯ç®¡ç†ã€å¼‚æ­¥æ‰§è¡Œç­‰æ¦‚å¿µä¸²è”èµ·æ¥ã€‚
- **GitHub Pages éƒ¨ç½²** éœ€è¦ç†è§£ GitHub Actionsã€Pages æºç›®å½•ã€è·¯å¾„æ˜ å°„ç­‰ç»†èŠ‚ã€‚

å¦‚æœæ²¡æœ‰ç³»ç»ŸåŒ–çš„æ€è€ƒï¼Œè¿™äº›å·¥ä½œä¼šå˜æˆâ€œä¸€æ¬¡æ€§æ‹¼å‡‘â€ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚

---

## 2ï¸âƒ£ éœ€æ±‚æ‹†è§£ï¼šæŠŠç¢ç‰‡åŒ–çš„çŸ¥è¯†è½¬åŒ–ä¸ºç³»ç»ŸåŒ–çš„ä»»åŠ¡

### 2.1 é¡¹ç›®ç›®æ ‡

1. **å¤šæºå£çº¸èšåˆ**ï¼šä» Bing ä¸ Unsplash åŒæ­¥æŠ“å–æ¯æ—¥é«˜æ¸…å£çº¸ã€‚
2. **å¼‚æ­¥ AI æ•…äº‹**ï¼šå¿«é€Ÿä¸‹è½½å›¾ç‰‡åï¼Œåå°ç”Ÿæˆçº¦ 500 å­—çš„åœ°ç†æ–‡åŒ–æ•…äº‹ã€‚
3. **è‡ªåŠ¨åŒ– CI/CD**ï¼šGitHub Actions æ¯å°æ—¶æ£€æµ‹æ›´æ–°ï¼Œè‡ªåŠ¨æ¨é€è‡³ä»“åº“ã€ç”Ÿæˆ README ä¸ Galleryã€‚
4. **ä¼ä¸šå¾®ä¿¡æ¨é€**ï¼šæŠŠæ–°å£çº¸ã€å…ƒæ•°æ®ã€æ•…äº‹å‘é€åˆ°ä¼ä¸šå¾®ä¿¡ç¾¤ã€‚
5. **GitHub Pages çº¿ä¸Šç”»å»Š**ï¼šåœ¨ `docs/` ç›®å½•ä¸‹æä¾›å“åº”å¼ã€æš—é»‘æ¨¡å¼çš„åœ¨çº¿å±•ç¤ºã€‚

### 2.2 çŸ¥è¯†ç‚¹æ˜ å°„è¡¨

| çŸ¥è¯†ç‚¹ | ä¸šåŠ¡åœºæ™¯ | ç³»ç»ŸåŒ–è¦ç‚¹ |
|--------|----------|------------|
| **RESTful API** | `fetch_bing_wallpaper.py`ã€`fetch_unsplash_wallpaper.py` | å‚æ•°æ ¡éªŒã€é”™è¯¯å¤„ç†ã€ç»Ÿä¸€å“åº”ç»“æ„ |
| **å¼‚æ­¥ä»»åŠ¡** | AI æ•…äº‹ç”Ÿæˆï¼ˆ`--skip-story` + `generate_missing_stories.py`ï¼‰ | ä¸»æµç¨‹å¿«é€Ÿè¿”å›ï¼Œåå°ä»»åŠ¡è°ƒåº¦ |
| **GitHub Actions** | è‡ªåŠ¨åŒ–æŠ“å–ã€æ›´æ–° README/Gallery | `workflow.yml` ä¸¤é˜¶æ®µï¼šæŠ“å– â†’ ç”Ÿæˆæ•…äº‹ |
| **GitHub Pages** | `docs/index.html` ç”»å»Š | `docs/wallpapers` ç›®å½•æ˜ å°„ï¼Œè·¯å¾„ç»Ÿä¸€ä¸º `./wallpapers/` |
| **ä¼ä¸šå¾®ä¿¡ Bot** | `push_to_wecom` | å›¾ç‰‡ã€Markdownã€æ•…äº‹ä¸‰æ®µå¼æ¨é€ |
| **é…ç½®é©±åŠ¨** | `config/sources.yaml` | å¤šæºå¼€å…³ã€API Key ç¯å¢ƒå˜é‡ç»Ÿä¸€ç®¡ç† |
| **æç¤ºè¯å¤–éƒ¨åŒ–** | `prompts/story_prompt.txt` | LLM Prompt å¯éšæ—¶è°ƒä¼˜ï¼Œé¿å…ç¡¬ç¼–ç  |

æŠŠè¿™äº›çŸ¥è¯†ç‚¹å†™è¿› **ç³»ç»ŸåŒ–æ–‡æ¡£**ï¼ˆ`src/update_readme.py`ã€`src/update_gallery.py`ï¼‰ï¼Œè®©ä»¥åæ–°æˆå‘˜åªéœ€é˜…è¯»é…ç½®æ–‡ä»¶å’Œè„šæœ¬å…¥å£ï¼Œå³å¯å¿«é€Ÿä¸Šæ‰‹ã€‚

---

## 3ï¸âƒ£ æ–¹æ¡ˆå®ç°ï¼šä»é›¶åˆ°å®Œæ•´é¡¹ç›®çš„å…³é”®æ­¥éª¤

### 3.1 é¡¹ç›®ç»“æ„ï¼ˆå·²å®Œæˆï¼‰

```
DailyWallpaperHub/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ sources.yaml          # æ•°æ®æºé…ç½®
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ index.html            # GitHub Pages ç”»å»Š
â”‚   â””â”€â”€ wallpapers/           # è¿ç§»åçš„å£çº¸ç›®å½•ï¼ˆè§£å†³ 404ï¼‰
â”‚       â”œâ”€â”€ bing/
â”‚       â””â”€â”€ unsplash/
â”œâ”€â”€ prompts/
â”‚   â””â”€â”€ story_prompt.txt      # AI æç¤ºè¯
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ fill_unsplash_dec.py  # è¡¥é½ 12 æœˆ 9â€‘18 æ—¥ Unsplash
â”‚   â””â”€â”€ generate_missing_stories.py  # å¼‚æ­¥ç”Ÿæˆç¼ºå¤±æ•…äº‹
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config_loader.py
â”‚   â”œâ”€â”€ utils.py
â”‚   â”œâ”€â”€ update_readme.py
â”‚   â””â”€â”€ update_gallery.py
â”œâ”€â”€ .github/workflows/daily.yml
â”œâ”€â”€ fetch_bing_wallpaper.py
â”œâ”€â”€ fetch_unsplash_wallpaper.py
â”œâ”€â”€ batch_fetch.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

> **å…³é”®æ”¹åŠ¨**ï¼šå°†åŸæ¥çš„ `wallpapers/` ç›®å½•æ¬åˆ° `docs/wallpapers/`ï¼Œå¹¶ç»Ÿä¸€æ‰€æœ‰é“¾æ¥ä¸ºç›¸å¯¹è·¯å¾„ `./wallpapers/...`ï¼Œä»è€Œè®© GitHub Pages èƒ½å¤Ÿç›´æ¥è®¿é—®å›¾ç‰‡ä¸ story æ–‡ä»¶ï¼Œé¿å… 404ã€‚

### 3.2 æ ¸å¿ƒè„šæœ¬æ¦‚è§ˆ

| è„šæœ¬ | ä½œç”¨ | å…³é”®ç‰¹æ€§ |
|------|------|----------|
| `fetch_bing_wallpaper.py` | æŠ“å– Bing æ¯æ—¥å£çº¸ | `--skip-story` å‚æ•°ã€ç»Ÿä¸€ `image.jpg` å‘½åã€è°ƒç”¨ `push_to_wecom` |
| `fetch_unsplash_wallpaper.py` | æŠ“å– Unsplash éšæœºç²¾é€‰ | åŒä¸Šï¼Œæ”¯æŒå¤šæº |
| `batch_fetch.py` | æ‰¹é‡æŠ“å–å†å²æˆ–æ•´æœˆå£çº¸ | è‡ªåŠ¨åˆ›å»º `docs/wallpapers` ç›®æ ‡è·¯å¾„ |
| `scripts/fill_unsplash_dec.py` | å¡«å…… 12 æœˆ 9â€‘18 æ—¥ Unsplash æ•°æ® | è·³è¿‡ AI æ•…äº‹ï¼Œåç»­å¼‚æ­¥ç”Ÿæˆ |
| `scripts/generate_missing_stories.py` | å¼‚æ­¥ç”Ÿæˆç¼ºå¤±çš„ AI æ•…äº‹ | æ‰«æ `docs/wallpapers`ï¼Œæ›´æ–° `meta.json`ï¼Œè‡ªåŠ¨åˆ·æ–° README & Gallery |
| `src/update_readme.py` | è‡ªåŠ¨ç”Ÿæˆ README ä¸­çš„å£çº¸è¡¨æ ¼ | è¯»å– `docs/wallpapers`ï¼Œç”Ÿæˆç›¸å¯¹è·¯å¾„é“¾æ¥ |
| `src/update_gallery.py` | æ›´æ–° `docs/index.html` ç”»å»Š | åŒä¸Šï¼Œç”Ÿæˆå¡ç‰‡å¼å±•ç¤º |

### 3.3 CI/CD æµç¨‹

```yaml
# .github/workflows/daily.yml
jobs:
  fetch-wallpapers:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install deps
        run: pip install -r requirements.txt
      - name: Run fetchers (skip story)
        run: |
          python fetch_bing_wallpaper.py --skip-story
          python fetch_unsplash_wallpaper.py --skip-story
  generate-stories:
    needs: fetch-wallpapers
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install deps
        run: pip install -r requirements.txt
      - name: Generate missing stories
        run: python scripts/generate_missing_stories.py
```

- **ç¬¬ä¸€é˜¶æ®µ**ï¼šå¿«é€Ÿä¸‹è½½å›¾ç‰‡ã€æ›´æ–° README ä¸ Galleryï¼Œç¡®ä¿é¡µé¢å³æ—¶å¯è§ã€‚
- **ç¬¬äºŒé˜¶æ®µ**ï¼šåå°ç”Ÿæˆ AI æ•…äº‹ï¼Œå®Œæˆåå†æ¬¡åˆ·æ–°é¡µé¢ã€‚

### 3.4 å…³é”®å‘ç‚¹ & è§£å†³æ–¹æ¡ˆ

| å‘ç‚¹ | ç°è±¡ | è§£å†³åŠæ³• |
|------|------|----------|
| **GitHub Pages 404** | å›¾ç‰‡é“¾æ¥æŒ‡å‘æ ¹ç›®å½• `wallpapers/...`ï¼Œä½†éƒ¨ç½²æºæ˜¯ `docs/` | å°† `wallpapers/` ç§»åŠ¨åˆ° `docs/`ï¼Œå¹¶ç»Ÿä¸€ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `./wallpapers/...` |
| **åˆ†æ”¯å†²çª** | æœ¬åœ°æ”¹åŠ¨ä¸è¿œç¨‹è‡ªåŠ¨æäº¤å†²çªï¼Œ`git push` è¢«æ‹’ç» | ä½¿ç”¨ `git pull --allow-unrelated-histories` åˆå¹¶ï¼Œæˆ– `git push --force` è¦†ç›–ï¼ˆç¡®è®¤æœ¬åœ°å³ä¸ºæœ€æ–°ï¼‰ |
| **AI æ•…äº‹é˜»å¡** | åŒæ­¥ç”Ÿæˆå¯¼è‡´æŠ“å–è„šæœ¬è€—æ—¶è¿‡é•¿ | æ·»åŠ  `--skip-story` å‚æ•°ï¼Œåå°ä½¿ç”¨ `generate_missing_stories.py` å¼‚æ­¥ç”Ÿæˆ |
| **è·¯å¾„ç¡¬ç¼–ç ** | è„šæœ¬ä¸­å†™æ­» `wallpapers/` è·¯å¾„ï¼Œå¯¼è‡´è¿ç§»åå¤±æ•ˆ | ä½¿ç”¨ `Path(__file__).parent.parent / "docs" / "wallpapers"` åŠ¨æ€æ‹¼æ¥è·¯å¾„ |
| **æç¤ºè¯æ•£è½** | Prompt ç›´æ¥å†™åœ¨ä»£ç é‡Œï¼Œéš¾ä»¥ç»´æŠ¤ | æŠŠ Prompt æ”¾åˆ° `prompts/story_prompt.txt`ï¼Œè„šæœ¬è¯»å–æ–‡ä»¶å†…å®¹ |

---

## 4ï¸âƒ£ è¿­ä»£ç»éªŒï¼šæŠŠç³»ç»ŸåŒ–æ€ç»´è½åœ°çš„è¦ç‚¹

1. **å…ˆç”»ç³»ç»Ÿå›¾**ï¼šåœ¨åŠ¨æ‰‹å†™ä»£ç å‰ï¼Œç”¨ä¸€å¼ ç®€æ˜“çš„æ¶æ„å›¾æŠŠæ•°æ®æµã€è°ƒç”¨é“¾ã€éƒ¨ç½²è·¯å¾„å…¨éƒ¨æ ‡å‡ºæ¥ã€‚
2. **ç»Ÿä¸€è·¯å¾„ä¸å‘½å**ï¼šæ‰€æœ‰å›¾ç‰‡ç»Ÿä¸€ä¸º `image.jpg`ï¼Œç¼©ç•¥å›¾ `thumb.jpg`ï¼Œé¿å…å› å¤§å°å†™æˆ–åç¼€ä¸ä¸€è‡´å¯¼è‡´æ‰¾ä¸åˆ°æ–‡ä»¶ã€‚
3. **é…ç½®é©±åŠ¨**ï¼šæŠŠå¯å˜çš„ API Keyã€æ˜¯å¦å¯ç”¨çš„æºã€æŠ“å–é¢‘ç‡ç­‰å…¨éƒ¨æ”¾è¿› `config/sources.yaml`ï¼Œè„šæœ¬åªè¯»å–é…ç½®ã€‚
4. **åˆ†é˜¶æ®µ CI**ï¼šæŠŠè€—æ—¶çš„ AI ç”Ÿæˆæ”¾åœ¨åç½® jobï¼Œä¿è¯é¡µé¢èƒ½å¿«é€Ÿå±•ç¤ºæœ€æ–°å£çº¸ã€‚
5. **æ–‡æ¡£å³ä»£ç **ï¼š`src/update_readme.py` ä¸ `src/update_gallery.py` è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼Œä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥ã€‚
6. **å¼‚å¸¸ç»Ÿä¸€**ï¼šåç«¯ç»Ÿä¸€è¿”å› `ResponseEntity<ApiResponse<T>>`ï¼ˆè™½ç„¶æœ¬é¡¹ç›®æ˜¯ Pythonï¼Œä½†æ€è·¯ç›¸åŒï¼‰ï¼Œå‰ç«¯ä½¿ç”¨ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼Œæå‡å¯ç»´æŠ¤æ€§ã€‚

---

## 5ï¸âƒ£ é¡¹ç›®åœ°å€

å¦‚æœä½ æƒ³ç›´æ¥ä½“éªŒæˆ–åœ¨æ­¤åŸºç¡€ä¸Šç»§ç»­è¿­ä»£ï¼Œé¡¹ç›®å·²å®Œæ•´å¼€æºï¼Œæ¬¢è¿ **Star**ã€**Fork**ã€**Issue**ï¼š

ğŸ”— **GitHub ä»“åº“**ï¼š https://github.com/Hana19951208/DailyWallpaperHub
